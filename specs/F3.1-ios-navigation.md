# F3.1: iOS Navigation Setup

## Objective
Set up SwiftUI NavigationStack with the app's screen structure for the iOS app.

## Dependencies
- F0.1 (Project setup)
- Shared KMP module available

## Requirements
- [ ] NavigationStack configured in ContentView
- [ ] Navigation paths defined as enum
- [ ] Tab-based navigation with TabView
- [ ] Screen placeholders created for all main screens
- [ ] Navigation between screens working

## Navigation Routes

### iosApp/Navigation/AppRoute.swift
```swift
import Foundation

enum AppRoute: Hashable {
    case home
    case addReminder
    case editReminder(reminderId: String)
    case labels
    case settings
}
```

## Main Tab View

### iosApp/RemindersApp.swift
```swift
import SwiftUI

@main
struct RemindersApp: App {
    var body: some Scene {
        WindowGroup {
            MainTabView()
        }
    }
}
```

### iosApp/Navigation/MainTabView.swift
```swift
import SwiftUI

struct MainTabView: View {
    @State private var selectedTab = 0

    var body: some View {
        TabView(selection: $selectedTab) {
            HomeNavigationStack()
                .tabItem {
                    Label("Home", systemImage: "house")
                }
                .tag(0)

            LabelsScreen()
                .tabItem {
                    Label("Labels", systemImage: "tag")
                }
                .tag(1)

            SettingsScreen()
                .tabItem {
                    Label("Settings", systemImage: "gear")
                }
                .tag(2)
        }
    }
}
```

## Home Navigation Stack

### iosApp/Navigation/HomeNavigationStack.swift
```swift
import SwiftUI

struct HomeNavigationStack: View {
    @State private var path = NavigationPath()

    var body: some View {
        NavigationStack(path: $path) {
            HomeScreen(
                onAddTapped: {
                    path.append(AppRoute.addReminder)
                },
                onReminderTapped: { reminderId in
                    path.append(AppRoute.editReminder(reminderId: reminderId))
                }
            )
            .navigationDestination(for: AppRoute.self) { route in
                switch route {
                case .addReminder:
                    AddEditReminderScreen(
                        reminderId: nil,
                        onDismiss: { path.removeLast() }
                    )
                case .editReminder(let reminderId):
                    AddEditReminderScreen(
                        reminderId: reminderId,
                        onDismiss: { path.removeLast() }
                    )
                default:
                    EmptyView()
                }
            }
        }
    }
}
```

## Screen Placeholders

Create placeholder views that will be implemented in later features:

### iosApp/Screens/Home/HomeScreen.swift
```swift
import SwiftUI

struct HomeScreen: View {
    var onAddTapped: () -> Void
    var onReminderTapped: (String) -> Void

    var body: some View {
        Text("Home Screen")
            .navigationTitle("Reminders")
            .toolbar {
                ToolbarItem(placement: .primaryAction) {
                    Button(action: onAddTapped) {
                        Image(systemName: "plus")
                    }
                }
            }
    }
}
```

### iosApp/Screens/Edit/AddEditReminderScreen.swift
```swift
import SwiftUI

struct AddEditReminderScreen: View {
    let reminderId: String?
    var onDismiss: () -> Void

    var body: some View {
        Text(reminderId == nil ? "Add Reminder" : "Edit Reminder")
            .navigationTitle(reminderId == nil ? "New Reminder" : "Edit Reminder")
            .navigationBarTitleDisplayMode(.inline)
            .toolbar {
                ToolbarItem(placement: .cancellationAction) {
                    Button("Cancel", action: onDismiss)
                }
            }
    }
}
```

### iosApp/Screens/Labels/LabelsScreen.swift
```swift
import SwiftUI

struct LabelsScreen: View {
    var body: some View {
        NavigationStack {
            Text("Labels Screen")
                .navigationTitle("Labels")
        }
    }
}
```

### iosApp/Screens/Settings/SettingsScreen.swift
```swift
import SwiftUI

struct SettingsScreen: View {
    var body: some View {
        NavigationStack {
            Text("Settings Screen")
                .navigationTitle("Settings")
        }
    }
}
```

## Verification
```bash
# Open iosApp/iosApp.xcodeproj in Xcode
# Run on simulator or device
# Verify tab navigation works
# Verify tapping + navigates to add screen
# Verify back navigation works
```

## Files to Create
- `iosApp/iosApp/Navigation/AppRoute.swift`
- `iosApp/iosApp/Navigation/MainTabView.swift`
- `iosApp/iosApp/Navigation/HomeNavigationStack.swift`
- `iosApp/iosApp/Screens/Home/HomeScreen.swift` (placeholder)
- `iosApp/iosApp/Screens/Edit/AddEditReminderScreen.swift` (placeholder)
- `iosApp/iosApp/Screens/Labels/LabelsScreen.swift` (placeholder)
- `iosApp/iosApp/Screens/Settings/SettingsScreen.swift` (placeholder)
- Update `iosApp/iosApp/RemindersApp.swift` (or `iOSApp.swift`)
